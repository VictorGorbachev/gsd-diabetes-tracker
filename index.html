<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Дневник сахара - ГСД</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <meta name="description" content="Дневник сахара для ГСД - приложение для мониторинга уровня глюкозы при гестационном сахарном диабете">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ef4444' stroke-width='2'%3E%3Cpath d='M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z'/%3E%3C/svg%3E">
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;
    const { Calendar, Clock, Droplet, Syringe, Plus, Minus, UtensilsCrossed, Navigation, ChevronDown, Menu } = lucide;

    const SugarDiary = () => {
      const [date, setDate] = useState('31.05.2025');
      const [time, setTime] = useState('13:09');
      const [sugar, setSugar] = useState(5.1);
      const [insulin, setInsulin] = useState('Новорапид');
      const [insulinDose, setInsulinDose] = useState(8);
      const [notes, setNotes] = useState('');
      const [measurementType, setMeasurementType] = useState('натощак');

      // Логика маркировки для ГСД (гестационный сахарный диабет)
      const getGSDSugarBadgeColor = (value, type) => {
        // Нормы для ГСД:
        // Натощак: < 5.1 ммоль/л
        // Через 1 час после еды: < 10.0 ммоль/л
        // Через 2 часа после еды: < 8.5 ммоль/л
        
        let targetLevel;
        if (type === 'натощак') {
          targetLevel = 5.1;
        } else if (type === '1 час после еды') {
          targetLevel = 10.0;
        } else if (type === '2 часа после еды') {
          targetLevel = 8.5;
        } else {
          targetLevel = 5.1; // по умолчанию натощак
        }

        if (value >= targetLevel + 2) return 'bg-red-600 text-white'; // Критично высокие
        if (value >= targetLevel) return 'bg-red-400 text-white';     // Превышение нормы ГСД
        if (value >= targetLevel - 1) return 'bg-yellow-500 text-white'; // Пограничные
        if (value >= 3.0) return 'bg-green-500 text-white';          // Нормальные для ГСД
        if (value >= 2.0) return 'bg-gray-900 text-white';           // Низкие, но безопасные
        return 'bg-red-500 text-white';                              // Опасно низкие (гипогликемия)
      };

      const getSugarDisplay = (value, type = 'натощак') => {
        // Специальная логика отображения для ГСД
        if (value === 5) {
          return { showDroplet: false, bgColor: 'bg-teal-500 text-white' };
        }
        return { showDroplet: true, bgColor: getGSDSugarBadgeColor(value, type) };
      };

      const handleSugarChange = (increment) => {
        if (increment) {
          setSugar(Math.round((sugar + 0.1) * 10) / 10);
        } else if (sugar > 0.1) {
          setSugar(Math.round((sugar - 0.1) * 10) / 10);
        }
      };

      const handleInsulinDoseChange = (increment) => {
        if (increment) {
          setInsulinDose(insulinDose + 1);
        } else if (insulinDose > 0) {
          setInsulinDose(insulinDose - 1);
        }
      };

      return React.createElement('div', { className: 'min-h-screen bg-gray-50 p-4' },
        React.createElement('div', { className: 'mx-auto max-w-md space-y-4' },
          React.createElement('div', { className: 'bg-white rounded-2xl p-6 shadow-sm' },
            React.createElement('div', { className: 'flex items-center justify-between mb-6' },
              React.createElement('div', null,
                React.createElement('h1', { className: 'text-xl font-semibold text-gray-900' }, 'Дневник сахара'),
                React.createElement('p', { className: 'text-sm text-blue-600 font-medium mt-1' }, 'ГСД • Гестационный диабет')
              ),
              React.createElement(Navigation, { className: 'w-5 h-5 text-gray-400' })
            ),

            React.createElement('div', { className: 'grid grid-cols-2 gap-4 mb-6' },
              React.createElement('div', { className: 'flex items-center space-x-3 bg-gray-50 rounded-lg px-3 py-3' },
                React.createElement(Calendar, { className: 'w-5 h-5 text-gray-400' }),
                React.createElement('input', {
                  type: 'text',
                  value: date,
                  onChange: (e) => setDate(e.target.value),
                  className: 'bg-transparent text-sm font-medium text-gray-900 border-none outline-none flex-1'
                })
              ),
              React.createElement('div', { className: 'flex items-center space-x-3 bg-gray-50 rounded-lg px-3 py-3' },
                React.createElement(Clock, { className: 'w-5 h-5 text-gray-400' }),
                React.createElement('input', {
                  type: 'text',
                  value: time,
                  onChange: (e) => setTime(e.target.value),
                  className: 'bg-transparent text-sm font-medium text-gray-900 border-none outline-none flex-1'
                })
              )
            ),

            React.createElement('div', { className: 'mb-6' },
              React.createElement('div', { className: 'flex items-center space-x-3 mb-2' },
                React.createElement(Droplet, { className: 'w-5 h-5 text-gray-400' }),
                React.createElement('span', { className: 'text-sm font-medium text-gray-700' }, 'Сахар')
              ),
              
              React.createElement('div', { className: 'mb-3' },
                React.createElement('select', {
                  value: measurementType,
                  onChange: (e) => setMeasurementType(e.target.value),
                  className: 'w-full bg-gray-50 rounded-lg px-3 py-2 text-sm font-medium text-gray-900 border-none outline-none'
                },
                  React.createElement('option', { value: 'натощак' }, 'Натощак (норма < 5.1)'),
                  React.createElement('option', { value: '1 час после еды' }, '1 час после еды (норма < 10.0)'),
                  React.createElement('option', { value: '2 часа после еды' }, '2 часа после еды (норма < 8.5)')
                )
              ),

              React.createElement('div', { className: 'flex items-center justify-center bg-gray-50 rounded-lg py-6' },
                React.createElement('button', {
                  onClick: () => handleSugarChange(false),
                  className: 'p-2 rounded-full hover:bg-gray-200 transition-colors'
                },
                  React.createElement(Minus, { className: 'w-4 h-4 text-gray-600' })
                ),
                React.createElement('input', {
                  type: 'number',
                  step: '0.1',
                  min: '0.1',
                  max: '30',
                  value: sugar,
                  onChange: (e) => setSugar(parseFloat(e.target.value) || 0.1),
                  className: 'mx-4 text-3xl font-semibold text-gray-900 bg-transparent border-none outline-none text-center w-24'
                }),
                React.createElement('button', {
                  onClick: () => handleSugarChange(true),
                  className: 'p-2 rounded-full hover:bg-gray-200 transition-colors'
                },
                  React.createElement(Plus, { className: 'w-4 h-4 text-gray-600' })
                )
              )
            ),

            React.createElement('div', { className: 'mb-6' },
              React.createElement('div', { className: 'flex items-center justify-between bg-gray-50 rounded-lg px-3 py-3' },
                React.createElement('div', { className: 'flex items-center space-x-3' },
                  React.createElement(Syringe, { className: 'w-5 h-5 text-gray-400' }),
                  React.createElement('div', { className: 'flex items-center space-x-2' },
                    React.createElement('select', {
                      value: insulin,
                      onChange: (e) => setInsulin(e.target.value),
                      className: 'bg-transparent text-sm font-medium text-gray-900 border-none outline-none appearance-none pr-6'
                    },
                      React.createElement('option', { value: 'Новорапид' }, 'Новорапид'),
                      React.createElement('option', { value: 'Левемир' }, 'Левемир'),
                      React.createElement('option', { value: 'Актрапид' }, 'Актрапид')
                    ),
                    React.createElement(ChevronDown, { className: 'w-4 h-4 text-gray-400' })
                  )
                ),
                React.createElement('div', { className: 'flex items-center space-x-3' },
                  React.createElement('button', {
                    onClick: () => handleInsulinDoseChange(false),
                    className: 'p-1 rounded-full hover:bg-gray-200 transition-colors'
                  },
                    React.createElement(Minus, { className: 'w-3 h-3 text-gray-600' })
                  ),
                  React.createElement('span', { className: 'text-lg font-semibold text-gray-900 w-8 text-center' }, insulinDose),
                  React.createElement('button', {
                    onClick: () => handleInsulinDoseChange(true),
                    className: 'p-1 rounded-full hover:bg-gray-200 transition-colors'
                  },
                    React.createElement(Plus, { className: 'w-3 h-3 text-gray-600' })
                  )
                )
              )
            ),

            React.createElement('div', { className: 'mb-6' },
              React.createElement('div', { className: 'flex items-center space-x-3 bg-gray-50 rounded-lg px-3 py-3' },
                React.createElement(UtensilsCrossed, { className: 'w-5 h-5 text-gray-400' }),
                React.createElement('input', {
                  type: 'text',
                  placeholder: 'Еда',
                  value: notes,
                  onChange: (e) => setNotes(e.target.value),
                  className: 'bg-transparent text-sm text-gray-900 placeholder-gray-400 border-none outline-none flex-1'
                })
              )
            ),

            React.createElement('button', { className: 'w-full bg-black text-white rounded-xl py-4 font-medium text-sm hover:bg-gray-800 transition-colors' },
              'Добавить'
            ),

            React.createElement('div', { className: 'mt-4 p-3 bg-blue-50 rounded-lg' },
              React.createElement('h3', { className: 'text-xs font-semibold text-blue-800 mb-2' }, 'Целевые значения при ГСД:'),
              React.createElement('div', { className: 'space-y-1 text-xs text-blue-700' },
                React.createElement('div', null, '• Натощак: < 5.1 ммоль/л'),
                React.createElement('div', null, '• Через 1 час: < 10.0 ммоль/л'),
                React.createElement('div', null, '• Через 2 часа: < 8.5 ммоль/л')
              )
            )
          ),

          React.createElement('div', { className: 'bg-white rounded-2xl p-6 shadow-sm' },
            React.createElement('h2', { className: 'text-lg font-semibold text-gray-900 mb-4' }, 'Сегодня'),
            
            React.createElement('div', { className: 'space-y-3' },
              React.createElement('div', { className: 'flex items-center justify-between py-2' },
                React.createElement('div', { className: 'flex items-center space-x-4' },
                  React.createElement(Clock, { className: 'w-4 h-4 text-gray-400' }),
                  React.createElement('span', { className: 'text-sm font-medium text-gray-900' }, '13:18'),
                  React.createElement('div', { className: 'flex items-center space-x-1 text-xs text-gray-600' },
                    React.createElement(Syringe, { className: 'w-3 h-3' }),
                    React.createElement('span', null, 'Новорапид 7 ед.')
                  )
                ),
                React.createElement(Menu, { className: 'w-4 h-4 text-gray-400' })
              ),

              React.createElement('div', { className: 'flex items-center justify-between py-2' },
                React.createElement('div', { className: 'flex items-center space-x-4' },
                  React.createElement(Clock, { className: 'w-4 h-4 text-gray-400' }),
                  React.createElement('span', { className: 'text-sm font-medium text-gray-900' }, '13:16'),
                  React.createElement('div', { className: `flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${getSugarDisplay(4.8, 'натощак').bgColor}` },
                    getSugarDisplay(4.8, 'натощак').showDroplet && React.createElement(Droplet, { className: 'w-3 h-3' }),
                    React.createElement('span', null, '4.8')
                  ),
                  React.createElement('span', { className: 'text-xs text-gray-500' }, 'натощак'),
                  React.createElement('div', { className: 'flex items-center space-x-1 text-xs text-gray-600' },
                    React.createElement(Syringe, { className: 'w-3 h-3' }),
                    React.createElement('span', null, 'Новорапид 7 ед.')
                  )
                ),
                React.createElement(Menu, { className: 'w-4 h-4 text-gray-400' })
              ),

              React.createElement('div', { className: 'flex items-center justify-between py-2' },
                React.createElement('div', { className: 'flex items-center space-x-4' },
                  React.createElement(Clock, { className: 'w-4 h-4 text-gray-400' }),
                  React.createElement('span', { className: 'text-sm font-medium text-gray-900' }, '15:17'),
                  React.createElement('div', { className: `flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${getSugarDisplay(9.2, '1 час после еды').bgColor}` },
                    getSugarDisplay(9.2, '1 час после еды').showDroplet && React.createElement(Droplet, { className: 'w-3 h-3' }),
                    React.createElement('span', null, '9.2')
                  ),
                  React.createElement('span', { className: 'text-xs text-gray-500' }, '1ч после еды'),
                  React.createElement('div', { className: 'flex items-center space-x-1 text-xs text-gray-600' },
                    React.createElement(Syringe, { className: 'w-3 h-3' }),
                    React.createElement('span', null, 'Новорапид 7 ед.')
                  )
                ),
                React.createElement(Menu, { className: 'w-4 h-4 text-gray-400' })
              ),

              React.createElement('div', { className: 'flex items-center justify-between py-2' },
                React.createElement('div', { className: 'flex items-center space-x-4' },
                  React.createElement(Clock, { className: 'w-4 h-4 text-gray-400' }),
                  React.createElement('span', { className: 'text-sm font-medium text-gray-900' }, '16:17'),
                  React.createElement('div', { className: `flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${getSugarDisplay(7.8, '2 часа после еды').bgColor}` },
                    getSugarDisplay(7.8, '2 часа после еды').showDroplet && React.createElement(Droplet, { className: 'w-3 h-3' }),
                    React.createElement('span', null, '7.8')
                  ),
                  React.createElement('span', { className: 'text-xs text-gray-500' }, '2ч после еды'),
                  React.createElement('div', { className: 'flex items-center space-x-1 text-xs text-gray-600' },
                    React.createElement(Syringe, { className: 'w-3 h-3' }),
                    React.createElement('span', null, 'Новорапид 0 ед.')
                  )
                ),
                React.createElement(Menu, { className: 'w-4 h-4 text-gray-400' })
              ),

              React.createElement('div', { className: 'flex items-center justify-between py-2' },
                React.createElement('div', { className: 'flex items-center space-x-4' },
                  React.createElement(Clock, { className: 'w-4 h-4 text-gray-400' }),
                  React.createElement('span', { className: 'text-sm font-medium text-gray-900' }, '18:17'),
                  React.createElement('div', { className: `flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${getSugarDisplay(5.8, 'натощак').bgColor}` },
                    getSugarDisplay(5.8, 'натощак').showDroplet && React.createElement(Droplet, { className: 'w-3 h-3' }),
                    React.createElement('span', null, '5.8')
                  ),
                  React.createElement('span', { className: 'text-xs text-gray-500' }, 'натощак'),
                  React.createElement('div', { className: 'flex items-center space-x-1 text-xs text-gray-600' },
                    React.createElement(Syringe, { className: 'w-3 h-3' }),
                    React.createElement('span', null, 'Левемир 7 ед.')
                  )
                ),
                React.createElement(Menu, { className: 'w-4 h-4 text-gray-400' })
              )
            ),

            React.createElement('div', { className: 'mt-6 pt-4 border-t border-gray-100' },
              React.createElement('div', { className: 'flex items-center space-x-2 text-sm text-gray-600 mb-3' },
                React.createElement(Syringe, { className: 'w-4 h-4' }),
                React.createElement('span', { className: 'font-medium' }, 'Всего 81 ед.')
              ),
              
              React.createElement('div', { className: 'text-xs text-gray-500' },
                React.createElement('div', { className: 'flex items-center space-x-4 flex-wrap' },
                  React.createElement('div', { className: 'flex items-center space-x-1' },
                    React.createElement('div', { className: 'w-3 h-3 rounded-full bg-green-500' }),
                    React.createElement('span', null, 'Норма')
                  ),
                  React.createElement('div', { className: 'flex items-center space-x-1' },
                    React.createElement('div', { className: 'w-3 h-3 rounded-full bg-yellow-500' }),
                    React.createElement('span', null, 'Погранично')
                  ),
                  React.createElement('div', { className: 'flex items-center space-x-1' },
                    React.createElement('div', { className: 'w-3 h-3 rounded-full bg-red-400' }),
                    React.createElement('span', null, 'Выше нормы')
                  ),
                  React.createElement('div', { className: 'flex items-center space-x-1' },
                    React.createElement('div', { className: 'w-3 h-3 rounded-full bg-red-600' }),
                    React.createElement('span', null, 'Критично')
                  )
                )
              )
            )
          )
        )
      );
    };

    ReactDOM.render(React.createElement(SugarDiary), document.getElementById('root'));
  </script>
</body>
</html>